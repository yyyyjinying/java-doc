


1.如果请求方式不对也不会报错；请检查请求方式get/post
2.定位接口返回的结果错误，首先排查参数是否传对了，参数是否获取到了；接着排查方法拼接有没有问题；
```java
LambdaQueryWrapper<NameCard> wrapper = new LambdaQueryWrapper();
        Map<SFunction<NameCard,?>, Object> map = new HashMap<>();
        map.put(NameCard::getPhone, nameCard.getPhone());
        map.put(NameCard::getIsHidden, nameCard.getIsHidden());
        wrapper.allEq(map, false);
false:是字段不传或者穿null都是可以正常动态搜索；等价于where if(phone != null)
{
   
   "phone": "13545678907",
   "isHidden": null,
   "personName": "李晓峰"
}
{
   
   "phone": "13545678907",
   "isHidden": null,
//    "personName": "李晓峰"
}
以上都是可以的
http://localhost:8098/jeecg-boot/card/pageList?pageNo=2&pageSize=10
@Override
    public IPage<NameCard> pageList(NameCard nameCard, Integer pageNo, Integer pageSize) {
        LambdaQueryWrapper<NameCard> wrapper = new LambdaQueryWrapper();
        Map<SFunction<NameCard,?>, Object> map = new HashMap<>();
        map.put(NameCard::getPhone, nameCard.getPhone());
        map.put(NameCard::getIsHidden, nameCard.getIsHidden());
        wrapper.allEq(map, false);
        wrapper.like(Strings.isNotBlank(nameCard.getPersonName()), NameCard::getPersonName, nameCard.getPersonName());
        IPage<NameCard> page = new Page(pageNo, pageSize);
        IPage<NameCard> res = nameCardService.page(page, wrapper);
        return res;
    }
@PostMapping("/pageList")
    public Result<?> list(@RequestBody NameCard nameCard,
                                 @RequestParam(name="pageNo", defaultValue="1") Integer pageNo,
                                 @RequestParam(name="pageSize", defaultValue="10") Integer pageSize){
        IPage<NameCard> res = nameCardService.pageList(nameCard, pageNo, pageSize);
        return Result.OK(res);
    }
```
<resultMap id="BaseResultMapBaseResultMap" type="org.jeecg.modules.system.entity.SysUser">
        <result column="username" property="username" />
        <result column="email" property="email" />
    </resultMap>
    <select id="findUserCard" parameterType="string" resultMap="BaseResultMapBaseResultMap">
        select username,email from `sys_user` where id in (
            SELECT user_id from sys_user_role where role_id=id
        ) and id={id};
    </select>

@Override
    public IPage<NameCard> pageXlsList(ExportXlsDto exportXlsDto, Integer pageNo, Integer pageSize) {

        LambdaQueryWrapper<NameCard> wrapper = new LambdaQueryWrapper<>();

        NameCard nameCard = (NameCard) exportXlsDto.getParams();

        String ids = exportXlsDto.getSelections();
        String column = exportXlsDto.getColumn();
        String order = exportXlsDto.getOrder();
        String fields = exportXlsDto.getField();

        setFieldValues(fields, wrapper, NameCard.class);
        if (nameCard != null) {
            Map<SFunction<NameCard, ?>, Object> map = new HashMap<>();
            map.put(NameCard::getPhone, nameCard.getPhone());
            map.put(NameCard::getIsHidden, nameCard.getIsHidden());
            wrapper.allEq(map, false);
            wrapper.inSql(StringUtils.isNotBlank(ids), NameCard::getId, ids);

            wrapper.like(StringUtils.isNotBlank(nameCard.getPersonName()), NameCard::getPersonName, nameCard.getPersonName());
//            wrapper.apply(StringUtils.isNotBlank(column), "ORDER BY {0} {1}", column, order.toUpperCase());
            if (StringUtils.isNotBlank(column)){
//                Predicate<TableFieldInfo> col = p -> p.getColumn().equals(column);
//                nameCard.setPhone(column);
//                wrapper.orderByDesc(NameCard::getPhone);
//                wrapper.orderBy(true, true, col);
                wrapper.apply("1= 1 order by phone desc");
            }
        }
        IPage<NameCard> page = new Page<>(pageNo, pageSize);

        IPage<NameCard> res = nameCardService.page(page, wrapper);
        return res;


    }
    
    <!--<select id="findUserCard" parameterType="string" resultType="org.jeecg.modules.system.entity.SysUser">-->
      <!--select username,email,phone,telephone,post from sys_user where id=#{id}-->
    <!--</select>-->
    <resultMap id="BaseResultMapBaseResultMap" type="org.jeecg.modules.system.entity.SysUser">
        <result column="username" property="username" />
        <result column="email" property="email" />
    </resultMap>
    <select id="findUserCard" parameterType="string" resultMap="BaseResultMapBaseResultMap">
        select username,email from `sys_user` where id in (
            SELECT user_id from sys_user_role where role_id=id
        ) and id={id};

@Api(tags="用户登录")
@ApiOperation("登录接口")

SysUser user = SON.parseObject(jsonObject.toJSONString(), SysUser.class);
@RequestBody JSONObject jsonObject

//        String url = "http://localhost:8098/jeecg-boot/card/listdata";
////        Result<NameCard[].class>.class
//        NameCard[] forObject = restTemplate.getForObject(url, NameCard[].class);
//        System.out.println(forObject)		



用户数据同步：
1、远程定时任务调用CIS数据（有接口提供）
2、获取的数据是招商的用户（具有招商角色）
3、不可以修改招商角色（及其用户的新增和修改、删除）；
4、脉城系统维护招商名片，内容有 `姓名（英文姓名）`、职位（英文职位）、`电话`、座机号、`邮箱`、人物图片、二维码图片、招商推荐（0/1）；支持查看，修改；不能新增；可以勾选导出EXcel;支持分页查询，查询条件为：中文名称、手机号、招商推荐；
5、小程序展示，招商名片；
